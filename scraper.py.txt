!pip install gspread google-auth

import gspread
from google.oauth2.service_account import Credentials

# Carga las credenciales desde el archivo que subiste
creds = Credentials.from_service_account_file(
    '/content/buscadormasias-efcda02e6181.json',  # <-- escribe aquí el nombre exacto de tu archivo
    scopes=["https://www.googleapis.com/auth/spreadsheets"]
)

# Conecta con Google Sheets
gc = gspread.authorize(creds)

# URL de tu hoja (copia la de tu propio Google Sheets)
SHEET_URL = "https://docs.google.com/spreadsheets/d/1rrcOu805B-FIIXzmoe3nllRENn_7pfDP_NR0Vre36JI/edit?gid=0#gid=0"

sh = gc.open_by_url(SHEET_URL)
worksheet = sh.worksheet("results")

# Añade una fila de prueba
worksheet.append_row(["Casa de prueba", "https://ejemplo.com", "450000", "6", "6", "Vic", "test"])
print("✅ Conexión correcta y fila añadida.")
